<mvc:View
    controllerName="com.bootcamp.sapui5.finalproject.controller.Detail"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:smartTable="sap.ui.comp.smarttable"
    displayBlock="true"
>
    <Page
        id="detailPage"
        title="{i18n>detailPageTitle}"
        showNavButton="true"
        navButtonPress=".onNavBack"
    >
        <content>
            <VBox class="sapUiSmallMargin">
                <f:SimpleForm
                    editable="false"
                    layout="ResponsiveGridLayout"
                    title="{i18n>supplierDetailsTitle}"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="2"
                    columnsM="2"
                    singleContainerFullSize="false"
                >
                    <f:content>
                        <core:Title text="{i18n>supplierBasicInfo}" />
                        <Label text="{i18n>supplierIdLabel}" />
                        <Text text="{SupplierID}" />
                        <Label text="{i18n>companyNameLabel}" />
                        <Text text="{CompanyName}" />
                        <Label text="{i18n>contactNameLabel}" />
                        <Text text="{ContactName}" />
                        <Label text="{i18n>contactTitleLabel}" />
                        <Text text="{ContactTitle}" />

                        <core:Title text="{i18n>supplierContactInfo}" />
                        <Label text="{i18n>addressLabel}" />
                        <Text text="{Address}" />
                        <Label text="{i18n>cityLabel}" />
                        <Text text="{City}" />
                        <Label text="{i18n>regionLabel}" />
                        <Text text="{Region}" />
                        <Label text="{i18n>postalCodeLabel}" />
                        <Text text="{PostalCode}" />
                        <Label text="{i18n>countryLabel}" />
                        <Text text="{Country}" />
                        <Label text="{i18n>phoneLabel}" />
                        <Text text="{Phone}" />
                        <Label text="{i18n>faxLabel}" />
                        <Text text="{Fax}" />
                        <Label text="{i18n>homepageLabel}" />
                        <Link
                            text="{HomePage}"
                            target="_blank"
                            visible="{= ${HomePage} ? true : false}"
                        />
                    </f:content>
                </f:SimpleForm>

                <Panel
                    expandable="true"
                    expanded="true"
                    headerText="{i18n>supplierProductsTitle}"
                    class="sapUiResponsiveMargin"
                >
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title
                                text="{i18n>supplierProductsTitle}"
                                level="H2"
                            />
                            <ToolbarSpacer />
                            <Button
                                text="{i18n>createProductButtonText}"
                                icon="sap-icon://add"
                                press=".onCreateProduct"
                                type="Emphasized"
                            />
                        </OverflowToolbar>
                    </headerToolbar>
                    <content>
                        <smartTable:SmartTable
                            id="productsSmartTable"
                            entitySet="Products"
                            tableType="Table"
                            enableExport="false"
                            beforeRebindTable=".onBeforeRebindTable"
                            initiallyVisibleFields="ProductID,ProductName,QuantityPerUnit,UnitPrice,UnitsInStock,Discontinued"
                            enableAutoBinding="true"
                            class="sapUiResponsiveMargin"
                            showRowCount="true"
                            header="{i18n>productsTableTitle}"
                            showFullScreenButton="false"
                        >
                            <smartTable:customToolbar>
                                <OverflowToolbar design="Transparent">
                                    <ToolbarSpacer />
                                    <Button 
                                        icon="sap-icon://delete" 
                                        text="{i18n>deleteProductButton}" 
                                        press=".onDeleteProduct"
                                        enabled="{= ${productsModel>/selectedItem} !== null}" 
                                        type="Transparent" />
                                </OverflowToolbar>
                            </smartTable:customToolbar>
                        </smartTable:SmartTable>
                    </content>
                </Panel>
            </VBox>
        </content>
    </Page>
</mvc:View>